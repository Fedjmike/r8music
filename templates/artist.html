{% extends "layout.html" %}
{% from "release_list.html" import release_list, release_grid %}

{% block title %}{{ artist.name }} {{ super() }}{% endblock %}

{% block content %}
<section>
	<header><h1>{{ artist.name }}</h1></header>
	
	<p>{{ artist.get_description() }}</p>
	
    {% set albums = artist.releases | selectattr("release_type", "equalto", "Album") | list %}
    {% if albums %}
        <header><h3>Albums</h3></header>
        {{ release_grid(albums, user) }}
    {% endif %}
    
    {% set others = artist.releases | rejectattr("release_type", "equalto", "Album") | list %}
    {% if others %}
        <header><h3>Other releases</h3></header>
        {{ release_grid(others, user) }}
    {% endif %}
</section>
{% endblock %}